{% extends "base.html" %}

{% block title %}Locations - {{ app_name }}{% endblock %}

{% block content %}
<section class="section">
  <div class="container">
    <h1 class="title is-3">Location Browser</h1>
    <p class="subtitle is-5">Manage your location hierarchy</p>

    <div class="columns">
      {# Left: Location tree #}
      <div class="column is-5">
        <div class="box">
          <h2 class="title is-5">Location Tree</h2>

          {# Add root location form #}
          <form hx-post="/pages/locations/create"
                hx-target="#location-tree"
                hx-swap="innerHTML"
                class="field has-addons mb-4">
            <div class="control is-expanded">
              <input class="input" type="text" name="name"
                     placeholder="New root location" required minlength="1" maxlength="120">
            </div>
            <div class="control">
              <button class="button is-primary" type="submit">Add</button>
            </div>
          </form>

          {# Tree container (loaded via HTMX) #}
          <div id="location-tree"
               hx-get="/pages/locations/tree"
               hx-trigger="load"
               hx-swap="innerHTML">
            <progress class="progress is-small is-primary" max="100">Loading</progress>
          </div>
        </div>
      </div>

      {# Right: Location details #}
      <div class="column is-7">
        <div class="box" id="location-detail">
          <p class="has-text-grey-light has-text-centered">
            Select a location to view details
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
